
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Step 1: Sphinx extension &#8212; Doctr Versions Menu 0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/badge_only.css" />
    <link rel="stylesheet" href="_static/mycss.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/doctr-versions-menu.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Step 2: Deployment" href="command.html" />
    <link rel="prev" title="History" href="history.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="history.html" title="Previous document">History</a>
        </li>
        <li>
          <a href="command.html" title="Next document">Step 2: Deployment</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="step-1-sphinx-extension">
<span id="sphinx-extension"></span><h1>Step 1: Sphinx extension<a class="headerlink" href="#step-1-sphinx-extension" title="Permalink to this headline">¶</a></h1>
<p>In your Documentation’s <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>, add <code class="docutils literal notranslate"><span class="pre">'doctr_versions_menu'</span></code> to your
<a class="reference external" href="https://www.sphinx-doc.org/en/2.0/usage/configuration.html#confval-extensions" title="(in Sphinx v2.4.2+/4a7ce87cb)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">extensions</span></code></a>.</p>
<p>That’s it.</p>
<p>See the Doctr Versions Menu’s <a class="reference external" href="https://github.com/goerz/doctr_versions_menu/blob/master/docs/conf.py"><code class="docutils literal notranslate"><span class="pre">conf.py</span></code></a> for an example.</p>
<p>This will inject a javascript file <code class="docutils literal notranslate"><span class="pre">doctr-versions-menu.js</span></code> into every
generated page of the documentation that displays a versions menu when the
documentation is hosted on Github Pages (the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch of the project
repository). The contents of the menu is derived from a file <code class="docutils literal notranslate"><span class="pre">versions.json</span></code>
that must be present in the root of <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the versions menu will only appear when the documentation is
viewed at a Github Pages URL (<code class="docutils literal notranslate"><span class="pre">https://&lt;username&gt;.github.io/&lt;project&gt;/&lt;version&gt;/</span></code>)
and if a file <code class="docutils literal notranslate"><span class="pre">versions.json</span></code> is present in the <code class="docutils literal notranslate"><span class="pre">&lt;project&gt;</span></code> folder
(that is, the root of the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch).
It will not appear when viewing documentation locally.</p>
</div>
<div class="section" id="sphinx-themes">
<h2>Sphinx themes<a class="headerlink" href="#sphinx-themes" title="Permalink to this headline">¶</a></h2>
<p>For best results, use the <a class="reference external" href="https://sphinx-rtd-theme.readthedocs.io/">Read the Docs Sphinx Theme</a> (<code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code>).
This is the default theme for documentation hosted on <code class="docutils literal notranslate"><span class="pre">readthedocs.org</span></code> (RTD).
However, it can also be used when hosting documentation outside of RTD!</p>
<p>Especially for documentation that includes extensive reference (API) content,
the RTD theme provides a much better visual structure than Sphinx’ default <code class="docutils literal notranslate"><span class="pre">alabaster</span></code>
theme which is also used on this page <a class="footnote-reference brackets" href="#f1" id="id1">1</a>.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code>, the versions menu will be displayed as part of the
navigation bar on the left side of the screen (just like on RTD). For any other
Sphinx theme, the versions menu will be shown as a “badge” in the bottom right
corner of the page (like on this page; and, like for documentation hosted on
RTD that doesn’t use the default theme).</p>
<p>The theme is automatically detected based on the value of <a class="reference external" href="https://www.sphinx-doc.org/en/2.0/usage/configuration.html#confval-html_theme" title="(in Sphinx v2.4.2+/4a7ce87cb)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_theme</span></code></a>
in the Sphinx <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file. If this is anything other than
<code class="docutils literal notranslate"><span class="pre">&quot;sphinx_rtd_theme&quot;</span></code>, the badge-style versions menu is used. This implies
that in addition to the javascript file <code class="docutils literal notranslate"><span class="pre">doctr-versions-menu.js</span></code>, a
<code class="docutils literal notranslate"><span class="pre">badge_only.css</span></code> file as well as a number of <a class="reference external" href="https://fontawesome.com">Font Awesome</a> files will be
included in the generated documentation.</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">alabaster</span></code> theme is used here to match the <a class="reference external" href="https://drdoctr.github.io">Doctr</a> documentation, and also to serve as a self-test for a badge-style versions menu. A version of this documentation using the RTD theme is available through the versions menu.</p>
</dd>
</dl>
</div>
<div class="section" id="customization">
<span id="sphinx-ext-customization"></span><h2>Customization<a class="headerlink" href="#customization" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">doctr_versions_menu</span></code> extension does not require any settings.
However, you may fully customize the versions menu by placing a <a class="reference external" href="https://jinja.palletsprojects.com/en/2.10.x/">Jinja</a> template
file <code class="docutils literal notranslate"><span class="pre">doctr-versions-menu.js_t</span></code> in a folder listed in your
<a class="reference external" href="https://www.sphinx-doc.org/en/2.0/usage/configuration.html#confval-templates_path" title="(in Sphinx v2.4.2+/4a7ce87cb)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">templates_path</span></code></a>.</p>
<p>This template will be rendered to produce <code class="docutils literal notranslate"><span class="pre">doctr-versions-menu.js</span></code>
using values from a dictionary <code class="docutils literal notranslate"><span class="pre">doctr_versions_menu_conf</span></code> in your Sphinx
<code class="docutils literal notranslate"><span class="pre">docs.conf</span></code> file. Values in this dictionary may overwrite the following
defaults used in the <a class="reference external" href="https://github.com/goerz/doctr_versions_menu/blob/master/src/doctr_versions_menu/_template/doctr-versions-menu.js_t">default template</a>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">json_file</span></code> (str): The local (absolute) path to the json file that contains version information. Defaults to <code class="docutils literal notranslate"><span class="pre">/&lt;project&gt;/versions.json</span></code> with <code class="docutils literal notranslate"><span class="pre">&lt;project&gt;</span></code> dynamically set based on the current Github Pages URL (<code class="docutils literal notranslate"><span class="pre">https://&lt;username&gt;.github.io/&lt;project&gt;/&lt;version&gt;/...</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">github_project_url</span></code> (str): The full URL to the project on Github. By default, this is dynamically derived from the current Github Pages URL (see above).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">current_folder</span></code> (str): The name of the current folder. By default, dynamically set to the <code class="docutils literal notranslate"><span class="pre">&lt;version&gt;</span></code> from the current Github Pages ULR (see above).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">badge_only</span></code> (bool): Whether to render the version menu as a “badge” in the lower right corner (defaults to True unless <a class="reference external" href="https://www.sphinx-doc.org/en/2.0/usage/configuration.html#confval-html_theme" title="(in Sphinx v2.4.2+/4a7ce87cb)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_theme</span></code></a> is <code class="docutils literal notranslate"><span class="pre">&quot;sphinx_rtd_theme&quot;</span></code>)</p></li>
</ul>
<p>Do not use the setting <code class="docutils literal notranslate"><span class="pre">badge_only=False</span></code> together with the
<code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code>. In order to avoid the <code class="docutils literal notranslate"><span class="pre">badge_only.css</span></code> and font files
being injected if you are using a completely custom template, do set <code class="docutils literal notranslate"><span class="pre">badge_only=False</span></code>
and supply your own CSS files e.g. in a <a class="reference external" href="https://www.sphinx-doc.org/en/2.0/usage/configuration.html#confval-html_static_path" title="(in Sphinx v2.4.2+/4a7ce87cb)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_static_path</span></code></a> folder.</p>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="history.html" title="Previous document">History</a>
        </li>
        <li>
          <a href="command.html" title="Next document">Step 2: Deployment</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Doctr Versions Menu</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Step 1: Sphinx extension</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sphinx-themes">Sphinx themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customization">Customization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="command.html">Step 2: Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="folderspecs.html">Folder Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions_json.html"><code class="docutils literal notranslate"><span class="pre">versions.json</span></code> Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="artifacts.html">Documentation Artifacts</a></li>
<li class="toctree-l1"><a class="reference internal" href="related_software.html">Related software</a></li>
</ul>
<h3>Need help?</h3>

<p>
  Open an issue in our <a href="https://github.com/goerz/doctr_versions_menu/issues">issue
  tracker</a>. Issues that are just questions are fine.
</p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Michael Goerz.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    
    <a href="https://github.com/goerz/doctr_versions_menu" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>